{
  "$schema": "https://raw.githubusercontent.com/Microsoft/azure-pipelines-task-lib/master/tasks.schema.json",
  "id": "a0ef6bd7-c004-43b4-b694-a1c771d837f4",
  "name": "pr-landmine",
  "friendlyName": "PR Landmine",
  "description": "An easy way to create manual mutation tests within an Azure DevOps pull request",
  "helpMarkDown": "",
  "category": "Utility",
  "author": "Tyler Murry & Zach O'Hearn",
  "version": {
    "Major": 3,
    "Minor": 0,
    "Patch": 6
  },
  "instanceNameFormat": "Sweeping for Landmines",
  "inputs": [
    {
      "name": "accessToken",
      "type": "string",
      "label": "Personal Access Token to retrieve and update comments on the pull request",
      "defaultValue": "$(System.AccessToken)",
      "required": true
    },
    {
      "name": "orgUrl",
      "type": "string",
      "label": "URL of the azure devops organization (e.g. https://dev.azure.com/my-org)",
      "required": true
    },
    {
      "name": "testCommand",
      "type": "string",
      "label": "Command that is run after each bomb is created. This command should be comprehensive enough to catch and defuse the bomb.",
      "required": true
    },
    {
      "name": "testCommandDirectory",
      "type": "string",
      "label": "The working directory where test command is executed.",
      "required": false,
      "defaultValue": "$(System.DefaultWorkingDirectory)"
    },
    {
      "name": "testCommandTimeout",
      "type": "string",
      "label": "The number of milliseconds to wait before bailing on the test command. Needs to be sufficiently high to run the test suite but low enough to catch infinite loops or runaway threads created by the mutation.",
      "required": false,
      "defaultValue": "60000"
    }
  ],
  "execution": {
    "Node10": {
      "target": "index.js"
    }
  }
}
